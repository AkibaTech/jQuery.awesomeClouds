!function(a){a.fn.awesomeClouds=function(b){var c=a.extend({autoInit:!0,verbose:!1,frequency:5,ticks:5,html:'<div class="cloud" />',paddingTop:20,paddingBottom:20,minScale:.8,maxScale:1.2,minDuration:6e3,maxDuration:12e3,easingOpacity:"linear",easingLeft:"swing",disableMobile:!1,beforeAdd:function(a,b){},afterAdd:function(a,b){},afterAnimated:function(a,b){}},b),d=this,e=a(this),f=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);return vHeight=e.height(),vWidth=e.width(),vDuration=100,vTicker=!1,this.debug=function(a){c.verbose===!0&&console.log("awesomeClouds : "+a)},this.initViewport=function(){vHeight=e.height(),vWidth=e.width(),this.debug('View height setted to "'+vHeight+'px" and View width setted to "'+vWidth+'px"')},this.initTicker=function(){return vDuration=Math.round(1e3/c.ticks),c.disableMobile&&f?void this.debug("Disabled for mobile"):(vTicker=setInterval(function(){var a=d.randomBetween(1,100);c.frequency>100&&c.frequency<0&&(c.frequency=10),c.frequency>=a&&d.addCloud()},vDuration),void this.debug('Ticker setted to "'+vDuration+'"'))},this.updateFrequency=function(a){a>=0&&100>=a?(c.frequency=a,this.debug("Frequency setted to "+a)):this.debug("Invalid new frequency")},this.updateTicks=function(a){a>=0&&100>=a?(c.ticks=a,this.stop(),this.start(),this.debug("Ticks setted to "+a)):this.debug("Invalid new ticks")},this.randomBetween=function(a,b){var c=Math.random()*(b-a)+a;return c},this.addCloud=function(){$cloud=a(c.html),c.beforeAdd(d,$cloud),$cloud.appendTo(e),this.debug("Cloud added..."),c.afterAdd(d,$cloud),d.setRandomPosition($cloud),d.setRandomScale($cloud),d.animateCloud($cloud)},this.setRandomPosition=function(a){var b=d.randomBetween(vWidth/2,vWidth),e=d.randomBetween(0+c.paddingTop,vHeight-c.paddingBottom);this.debug("...at position : "+b+"/"+e),a.css({top:e+"px",left:b+"px"})},this.setRandomScale=function(a){var b=d.randomBetween(c.minScale,c.maxScale);this.debug("...at scale : "+b),a.css({"-webkit-transform":"scale("+b+")","-moz-transform":"scale("+b+")",transform:"scale("+b+")"})},this.stop=function(){d.debug("Stop!"),clearInterval(vTicker)},this.start=function(){d.debug("Start!"),d.initViewport(),d.initTicker()},this.animateCloud=function(b){var e=this.randomBetween(c.minDuration,c.maxDuration),f=Math.round(e/2),g=this.randomBetween(0,vWidth/2);this.debug("...with duration : "+e),b.css("opacity",0).animate({opacity:1},{duration:f,queue:!1,easing:c.easingOpacity,done:function(){a(this).animate({opacity:0},{duration:f,easing:c.easingOpacity})}}).animate({left:g+"px"},{duration:e,queue:!1,easing:c.easingLeft,start:function(){d.debug("...start animation from "+Math.round(b.offset().left)+"px to "+g+"px")},done:function(){c.afterAnimated(d,a(this)),a(this).remove()}})},c.autoInit&&d.start(),a(window).on("resize",function(){d.debug("New viewport!"),d.initViewport()}),d}}(jQuery);